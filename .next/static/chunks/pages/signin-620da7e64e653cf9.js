(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{81:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return n(893)}])},6285:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(7963);let i=()=>{let e=(0,r.p)();return(t,n,r)=>{e({title:n,description:r,status:t,duration:5e3,isClosable:!0,position:"top"})}}},893:function(e,t,n){"use strict";n.r(t),n.d(t,{SignInPage:function(){return m},default:function(){return h}});var r=n(5893),i=n(7294),a=n(5111),l=n(5675),u=n.n(l),s=n(3090),o=n(9828);let d=()=>{let e=(0,i.useCallback)(async(e,t,n,r,i)=>{let a;let l=(0,o.ad)(),u=new Date,s={createdTime:u,updatedTime:u};if(n?await (0,o.pl)(a=(0,o.JU)(l,e,n),{...t,updatedTime:u},{merge:!0}):a=await (0,o.ET)((0,o.hJ)(l,e),{...s,...t}),r&&i){let d=(0,o.hJ)(a,r);for(let c of i)await (0,o.ET)(d,{...s,...c})}return a.id},[]);return e};var c=n(1163),f=n(6285);let m=()=>{let[e,t]=(0,i.useState)(""),[n,l]=(0,i.useState)(""),[o,m]=(0,i.useState)(""),h=d(),v=(0,f.g)(),{push:p}=(0,c.useRouter)(),[b,x]=(0,i.useState)("signup"),g=async t=>{t.preventDefault();let r=(0,a.v0)();try{if("signup"===b){let i=await (0,a.Xb)(r,e,n);await h("users",{email:e,name:o,createdTime:new Date,updatedTime:new Date},i.user.uid),v("success","新規登録に成功しました。"),p("/")}else"signin"===b&&(await (0,a.e5)(r,e,n),v("success","サインインに成功しました。"),p("/"))}catch(l){if(console.error(l),l.code)switch(l.code){case"auth/invalid-email":v("error","メールアドレスの形式が正しくありません。");break;case"auth/user-disabled":v("error","このユーザーは無効にされています。");break;case"auth/email-already-in-use":v("error","このメールアドレスは既に使用されています。");break;case"auth/user-not-found":v("error","ユーザーが見つかりません。");break;case"auth/wrong-password":v("error","パスワードが間違っています。");break;case"auth/too-many-requests":v("error","リクエストが多すぎます。後ほど再試行してください。");break;default:v("error","ログインに失敗しました。もう一度お試しください。")}else v("error","ログインに失敗しました。もう一度お試しください。")}};return(0,r.jsx)("div",{className:"w-[100%] flex flex-col items-center h-[100%] overflow-y-hidden",children:(0,r.jsxs)("div",{className:"md:w-3/5 flex w-4/5 md:mt-36 mt-40 flex-col items-center justify-center bg-white",children:[(0,r.jsx)(u(),{src:"/title.svg",width:"380",height:"50",alt:"Countan",className:" md:block hidden m-4"}),(0,r.jsx)(u(),{src:"/title.svg",width:"150",height:"50",alt:"Countan",className:" md:hidden block my-6 mb-10"}),(0,r.jsxs)("form",{onSubmit:g,className:"flex flex-col items-center w-4/5",children:["signup"===b&&(0,r.jsx)(s.I,{type:"text",value:o,onChange:e=>m(e.target.value),placeholder:"ユーザー名",variant:"filled",mb:4,size:"xs",required:!0}),(0,r.jsx)(s.I,{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"メールアドレス",variant:"filled",mb:4,size:"xs",required:!0}),(0,r.jsx)(s.I,{type:"password",value:n,onChange:e=>l(e.target.value),placeholder:"パスワード",variant:"filled",mb:4,size:"xs",required:!0}),(0,r.jsx)("button",{className:"bg-[#ea5514] text-white px-3 py-1 text-sm font-bold rounded focus:outline-none focus:ring-2 focus:ring-[#ea5514] focus:ring-opacity-50",type:"submit",children:"signup"===b?"新規登録":"サインイン"})]}),(0,r.jsx)("button",{onClick:()=>x("signin"===b?"signup":"signin"),className:"my-4",children:"signin"===b?"サインアップはこちら":"サインインはこちら"})]})})};var h=m},8912:function(e,t,n){"use strict";n.d(t,{K:function(){return l},Y:function(){return a}});var r=n(5970),i=n(5432);function a(e){let{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:a,...u}=l(e);return{...u,disabled:t,readOnly:r,required:a,"aria-invalid":(0,i.Qm)(n),"aria-required":(0,i.Qm)(a),"aria-readonly":(0,i.Qm)(r)}}function l(e){var t,n,a;let l=(0,r.NJ)(),{id:u,disabled:s,readOnly:o,required:d,isRequired:c,isInvalid:f,isReadOnly:m,isDisabled:h,onFocus:v,onBlur:p,...b}=e,x=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==l?void 0:l.hasFeedbackText)&&(null==l?void 0:l.isInvalid)&&x.push(l.feedbackId),(null==l?void 0:l.hasHelpText)&&x.push(l.helpTextId),{...b,"aria-describedby":x.join(" ")||void 0,id:null!=u?u:null==l?void 0:l.id,isDisabled:null!=(t=null!=s?s:h)?t:null==l?void 0:l.isDisabled,isReadOnly:null!=(n=null!=o?o:m)?n:null==l?void 0:l.isReadOnly,isRequired:null!=(a=null!=d?d:c)?a:null==l?void 0:l.isRequired,isInvalid:null!=f?f:null==l?void 0:l.isInvalid,onFocus:(0,i.v0)(null==l?void 0:l.onFocus,v),onBlur:(0,i.v0)(null==l?void 0:l.onBlur,p)}}},5970:function(e,t,n){"use strict";n.d(t,{NI:function(){return p},NJ:function(){return v},e:function(){return m}});var r=n(5227),i=n(1103),a=n(6554),l=n(7030),u=n(3179),s=n(6914),o=n(5432),d=n(7294),c=n(5893),[f,m]=(0,r.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[h,v]=(0,r.k)({strict:!1,name:"FormControlContext"}),p=(0,a.G)(function(e,t){let n=(0,l.jC)("Form",e),r=(0,u.Lr)(e),{getRootProps:a,htmlProps:m,...v}=function(e){let{id:t,isRequired:n,isInvalid:r,isDisabled:a,isReadOnly:l,...u}=e,s=(0,d.useId)(),c=t||`field-${s}`,f=`${c}-label`,m=`${c}-feedback`,h=`${c}-helptext`,[v,p]=(0,d.useState)(!1),[b,x]=(0,d.useState)(!1),[g,y]=(0,d.useState)(!1),w=(0,d.useCallback)((e={},t=null)=>({id:h,...e,ref:(0,i.lq)(t,e=>{e&&x(!0)})}),[h]),k=(0,d.useCallback)((e={},t=null)=>({...e,ref:t,"data-focus":(0,o.PB)(g),"data-disabled":(0,o.PB)(a),"data-invalid":(0,o.PB)(r),"data-readonly":(0,o.PB)(l),id:void 0!==e.id?e.id:f,htmlFor:void 0!==e.htmlFor?e.htmlFor:c}),[c,a,g,r,l,f]),C=(0,d.useCallback)((e={},t=null)=>({id:m,...e,ref:(0,i.lq)(t,e=>{e&&p(!0)}),"aria-live":"polite"}),[m]),N=(0,d.useCallback)((e={},t=null)=>({...e,...u,ref:t,role:"group","data-focus":(0,o.PB)(g),"data-disabled":(0,o.PB)(a),"data-invalid":(0,o.PB)(r),"data-readonly":(0,o.PB)(l)}),[u,a,g,r,l]),j=(0,d.useCallback)((e={},t=null)=>({...e,ref:t,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!l,isDisabled:!!a,isFocused:!!g,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:v,setHasFeedbackText:p,hasHelpText:b,setHasHelpText:x,id:c,labelId:f,feedbackId:m,helpTextId:h,htmlProps:u,getHelpTextProps:w,getErrorMessageProps:C,getRootProps:N,getLabelProps:k,getRequiredIndicatorProps:j}}(r),p=(0,o.cx)("chakra-form-control",e.className);return(0,c.jsx)(h,{value:v,children:(0,c.jsx)(f,{value:n,children:(0,c.jsx)(s.m.div,{...a({},t),className:p,__css:n.container})})})});p.displayName="FormControl",(0,a.G)(function(e,t){let n=v(),r=m(),i=(0,o.cx)("chakra-form__helper-text",e.className);return(0,c.jsx)(s.m.div,{...null==n?void 0:n.getHelpTextProps(e,t),__css:r.helperText,className:i})}).displayName="FormHelperText"},3090:function(e,t,n){"use strict";n.d(t,{I:function(){return d}});var r=n(8912),i=n(6554),a=n(7030),l=n(3179),u=n(6914),s=n(5432),o=n(5893),d=(0,i.G)(function(e,t){let{htmlSize:n,...i}=e,d=(0,a.jC)("Input",i),c=(0,l.Lr)(i),f=(0,r.Y)(c),m=(0,s.cx)("chakra-input",e.className);return(0,o.jsx)(u.m.input,{size:n,...f,__css:d.field,ref:t,className:m})});d.displayName="Input",d.id="Input"},1103:function(e,t,n){"use strict";n.d(t,{lq:function(){return i},qq:function(){return a}});var r=n(7294);function i(...e){return t=>{e.forEach(e=>{!function(e,t){if(null!=e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}}(e,t)})}}function a(...e){return(0,r.useMemo)(()=>i(...e),e)}},7963:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var r=n(1089),i=n(3988),a=n(3058),l=n(7294);function u(e){let{theme:t}=(0,a.uP)(),n=(0,r.OX)();return(0,l.useMemo)(()=>(0,i.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}}},function(e){e.O(0,[16,210,774,888,179],function(){return e(e.s=81)}),_N_E=e.O()}]);